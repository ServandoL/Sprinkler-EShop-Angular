<form class="py-2" (submit)="onSubmit()" [formGroup]="filterForm">
  <div><p class="h4">Filters</p></div>
  <div class="bottom-border my-2"></div>
  <div class="form-floating mb-3">
    <input
      formControlName="search"
      type="search"
      class="form-control"
      id="floatingInput"
      placeholder="search"
    />
    <label for="floatingInput">Search</label>
  </div>

  <div class="mb-3">
    <p class="h6">Brands</p>
    <div class="form-check" *ngFor="let brand of brandsOptions; let i = index">
      <input
        formArrayName="selectedBrands"
        class="form-check-input"
        type="checkbox"
        [value]="brand.value"
        [checked]="!!brand.selected"
        (change)="onCheckboxChange($event, brand.__typename)"
      />
      <label class="form-check-label" for="flexCheckDefault"> {{ brand.value }}</label>
    </div>
  </div>

  <div class="mb-3">
    <p class="h6">Categories</p>
    <div class="form-check" *ngFor="let category of categoryOptions">
      <input
        formArrayName="selectedCategories"
        class="form-check-input"
        type="checkbox"
        [value]="category.value"
        [checked]="!!category.selected"
        (change)="onCheckboxChange($event, category.__typename)"
      />
      <label class="form-check-label" for="flexCheckDefault"> {{ category.value }}</label>
    </div>
  </div>
  <div class="mb-3">
    <label for="customRange2" class="form-label"><p class="h6">Price Range</p></label>
    <label *ngIf="errorMessage" class="error-msg">{{ errorMessage }}</label>
    <div class="small">
      <div class="form-floating mb-3">
        <input
          formControlName="minPrice"
          type="number"
          class="form-control"
          id="floatingInput"
          placeholder="from"
        />
        <label for="floatingInput">from</label>
      </div>
      <div class="form-floating mb-3">
        <input
          formControlName="maxPrice"
          type="number"
          class="form-control padded"
          id="floatingInput"
          placeholder="to"
        />
        <label for="floatingInput">to</label>
      </div>
    </div>
  </div>

  <div class="mb-3">
    <p class="h6">Rating</p>
    <span class="star-cb-group">
      <input formControlName="rating" type="radio" id="rating-5" name="rating" value="5" />
      <label for="rating-5">5</label>
      <input
        formControlName="rating"
        type="radio"
        id="rating-4"
        name="rating"
        value="4"
        checked="checked"
      />
      <label for="rating-4">4</label>
      <input formControlName="rating" type="radio" id="rating-3" name="rating" value="3" />
      <label for="rating-3">3</label>
      <input formControlName="rating" type="radio" id="rating-2" name="rating" value="2" />
      <label for="rating-2">2</label>
      <input formControlName="rating" type="radio" id="rating-1" name="rating" value="1" />
      <label for="rating-1">1</label>
      <input
        formControlName="rating"
        type="radio"
        id="rating-0"
        name="rating"
        value="0"
        class="star-cb-clear"
      />
      <label for="rating-0">0</label>
    </span>
  </div>
  <div class="mb-3">
    <button class="btn btn-primary" type="submit" [disabled]="isEmptyForm()">Submit</button>
    <button
      class="btn btn-secondary padded"
      type="button"
      (click)="onReset()"
      [disabled]="isEmptyForm()"
    >
      Clear
    </button>
  </div>
</form>
