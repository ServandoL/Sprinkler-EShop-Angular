<div
  *ngIf="
    (productsLoading$ | async)?.isLoading ||
    (addToCartLoading$ | async)?.isLoading
  "
>
  <app-shared-loader></app-shared-loader>
</div>
<div class="container">
  <div class="row py-2">
    <div class="col-md-2">
      <h3>Actions</h3>
      <div class="bottom-border my-2"></div>
      <ul class="list-group">
        <li class="list-group-item">
          <a
            href="https://www.youtube.com/watch?v=dQw4w9WgXcQ&t=3s"
            target="_blank"
            >What do</a
          >
        </li>
      </ul>
    </div>
    <div class="col-md-10">
      <h3>Sprinkler Nozzles</h3>

      <div class="bottom-border my-2"></div>
      <div
        *ngIf="(addToCartResponse$ | async)?.success === false"
        class="alert alert-danger"
        role="alert"
      >
        {{ (addToCartResponse$ | async)?.message }}
      </div>
      <div
        class="col"
        *ngIf="(products$ | async)?.length === 0"
        class="alert alert-danger"
        role="alert"
      >
        No products available.
      </div>
      <div
        class="col"
        *ngIf="(addToCartResponse$ | async)?.success"
        class="alert alert-primary"
        role="alert"
      >
        {{ (addToCartResponse$ | async)?.message }}
      </div>
      <div *ngIf="!validated" class="alert alert-warning" role="alert">
        Please log in to add to your cart.
      </div>

      <div
        class="row row-cols-1 row-cols-lg-4 g-4"
        *ngIf="products$ | async as products"
      >
        <div class="col" *ngFor="let product of products">
          <app-product-card
            [product]="product"
            (quantityUpdated)="updateQuantity($event)"
            (submitClicked)="submit(product, $event)"
          ></app-product-card>
        </div>
      </div>
    </div>
  </div>
</div>
